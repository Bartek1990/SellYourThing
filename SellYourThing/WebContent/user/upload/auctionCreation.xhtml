<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>Sell Your Thing</title>
    </h:head>

    <h:body>
        <ui:composition template="/WEB-INF/template/mainLayout.xhtml">
            <ui:define name="content">
                <h:outputText value="Tworzenie nowej aukcji" styleClass="header"/>
                <h:form enctype="multipart/form-data">
                    <h:messages errorClass="errorMessage" infoClass="infoMessage" warnClass="warnMessage"/>
                    <h:panelGrid columns="2">
                        <h:outputText value="Tytuł :"/>
                        <h:inputText id="title" value="#{auctionBean.title}" required="true" requiredMessage="Nie podałeś tytułu aukcji!"/>
                        <h:outputText value="Opis :"/>
                        <h:inputText id="description" value="#{auctionBean.description}" required="true" requiredMessage="Nie podałeś opisu aukcji!"/>
                        <h:outputText value="Typ :"/>
                        <h:inputText id="type" value="#{auctionBean.type}" required="true" requiredMessage="Nie podałeś typu aukcji!"/>
                        <h:outputText value="Koniec Aukcji :"/>
                        <h:inputText id="expDate" value="#{auctionBean.expDate}" required="true" requiredMessage="Nie podałeś daty zakończenia aukcji!" converterMessage="Zły format daty, wymagany format to: DD/MM/YYYY">
                            <f:convertDateTime pattern="dd/MM/yyyy"/>
                        </h:inputText>
                        <h:outputText value="ID subkategorii (temp) :"/>
                        <h:outputText value="Status : (temp)"/>
                        <h:inputText id="status" value="#{auctionBean.status}" required="true" requiredMessage="Nie podałeś statusu!"/>				
                        <h:inputText id="subcategoryId" value="#{auctionBean.subcategoryId}" required="true" requiredMessage="Nie podałeś subkategorii!"/>
                        <h:commandButton type="submit" value="Umieść Ogłoszenie" action="#{auctionBean.addAuction}"/>
                    </h:panelGrid>
                </h:form>
                <h:form enctype="multipart/form-data">
                    <h:inputFile id="auctionImage" value="#{auctionBean.image}"/>
                    <h:commandButton value="Dodaj">
                        <f:ajax execute="auctionImage" render="images"/>
                    </h:commandButton>
                    <h:panelGroup id="images">
                        <ui:repeat value="#{auctionBean.productImages}" var="oneImage">
                            <h:graphicImage value="/image/#{oneImage.url}" width="200" height="171" />
                        </ui:repeat>
                    </h:panelGroup>
                </h:form>

            </ui:define>
        </ui:composition>
    </h:body>
</html>